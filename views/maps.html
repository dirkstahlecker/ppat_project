<!DOCTYPE html>
<html>
  <head>
<style type = "text/css">
	  html body,
      #map_canvas {
        width: 1000px;
        height: 800px;
        background-color: #CCC;
      }
    </style>
    <script type = "text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDw1eIV3AxYXAI4bFYAow-UBYl3Q3JURJk"> 
        </script>
        <script type="text/javascript">

// Boston College all-campus coordinates:
          // center: new google.maps.LatLng(42.3352078, -71.1699536),
           // zoom: 16,
//center position: Fulton Hall
      fultonCoords = new google.maps.LatLng(42.334488, -71.1701876);
      function initialize() {
        var mapCanvas = document.getElementById('map_canvas');
        var mapOptions = {


          	center: fultonCoords,
          	zoom:19,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }

        var map = new google.maps.Map(mapCanvas, mapOptions)

//Shape of Fulton Hall Building
        var fultonShape = new google.maps.Polygon({
        	map: map,
        	paths: [
        		new google.maps.LatLng(42.334553,-71.170432),
        		new google.maps.LatLng(42.334319,-71.170346),
        		new google.maps.LatLng(42.334309,-71.170389),
        		new google.maps.LatLng(42.334247,-71.170368),
        		new google.maps.LatLng(42.334245,-71.170335),
        		new google.maps.LatLng(42.334223,-71.170319),
        		new google.maps.LatLng(42.334220,-71.170290),
        		new google.maps.LatLng(42.334247,-71.170193),
        		new google.maps.LatLng(42.334336,-71.169791),
        		new google.maps.LatLng(42.334323,-71.169751),
        		new google.maps.LatLng(42.334348,-71.169673),
        		new google.maps.LatLng(42.334374,-71.169649),
        		new google.maps.LatLng(42.334444,-71.169670),
        		new google.maps.LatLng(42.334444,-71.169713),
        		new google.maps.LatLng(42.334672,-71.169812),
        		new google.maps.LatLng(42.334668,-71.169845),
        		new google.maps.LatLng(42.334800,-71.169898),
        		new google.maps.LatLng(42.334791,-71.169981),
        		new google.maps.LatLng(42.334749,-71.169971),
        		new google.maps.LatLng(42.334749,-71.170016),
        		new google.maps.LatLng(42.334707,-71.170011),
        		new google.maps.LatLng(42.334656,-71.170263),
        		new google.maps.LatLng(42.334685,-71.170282),
        		new google.maps.LatLng(42.334685,-71.170325),
        		new google.maps.LatLng(42.334713,-71.170346),
        		new google.maps.LatLng(42.334695,-71.170432),
        		new google.maps.LatLng(42.334570,-71.170402)
        	],
        	strokeColor: '#ff0000',
        	strokeOpacity: 0.8,
        	strokeWeight:2,
        	fillOpacity: 0
        });

//event listener when click shape
google.maps.event.addListener(fultonShape, 'click', showFloors);

//pop up window when click building
insideBuilding = new google.maps.InfoWindow();

//boolean: if a window is up, clicking on the map gets rid of it
var windowUp = false;

//loads contents of popup window; opens up the popup window 
function showFloors(event){
  windowUp = true;
	map: map
	var contentString = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">First Floor</h1>'+
      '<div id="bodyContent">'+
      '<p><b>Insert Floorplan here</b>, lalalalalal <p>Testing stuff</p>' +
      'wooooooo sample text!!!'+
      '</div> <img src = "../testImagePhoebe/phoebePicTest.jpg" height = "500" width = "500">'
      +'</div>';
	insideBuilding.setContent(contentString);
  insideBuilding.setPosition(fultonCoords);
	insideBuilding.open(map);
  windows.push(insideBuilding);
}

//color changes when mousing over the building
google.maps.event.addListener(fultonShape, 'mouseover', function (event){
	this.setOptions({
		strokeColor: '#ff0000',
		fillColor: '#ff0000',
		fillOpacity: 0.5
	});
});

//removes color when mouse out of the building
google.maps.event.addListener(fultonShape, 'mouseout', function (event){
	this.setOptions({
		strokeColor: '#ff0000',
		fillOpacity: 0
	});
	
});

//all pop up windows
windows = [];
//if a window (either flag, or a building flag) is open and click map, close the infowindow
  google.maps.event.addListener(map, 'click', function (event){
      if (windowUp == true){
        for (i=0; i<windows.length; i++){
          windows[i].close();
        }
      }
  });

potholeLocations = [new google.maps.LatLng(42.334379,-71.169555)];
doorLocations = [new google.maps.LatLng(42.334294,-71.169987), new google.maps.LatLng(42.334635,-71.169783)];

//instantiating door symbol
var wheelchairDoor = {
  url: '../testImagePhoebe/wheelchair.jpg',
  scaledSize: new google.maps.Size(25,25)
};
//instantiating pothole caution symbol
var potholeCaution = {
  url: '../testImagePhoebe/caution.png',
  scaledSize:new google.maps.Size(30,25)
}

//adding markers
markerArray = [];
function addMarkers(array, iconType){
  for (i = 0; i < array.length; i++){
    var marker = new google.maps.Marker({
      position: array[i],
      icon: iconType,
      map: map,
      draggable: false
    })
    markerArray.push(marker);
  }
}

//index 0
addMarkers(potholeLocations, potholeCaution);
//indices 1-2
addMarkers(doorLocations, wheelchairDoor);


//html content for each  marker popup
content = ['<div id="content"> <div id="siteNotice"></div>'+
      '<h1 id="firstHeading" class="firstHeading">Pothole</h1>'+
      '<div id="bodyContent">'+
      '<p><b><img src = "../testImagePhoebe/pothole.jpg" height = "100" width = "100"></b>, lalalalalal <p>Testing stuff</p>' +
      'wooooooo sample text!!!</div>',

      '<div id="content"><div id="siteNotice"></div>'+
      '<h1 id="firstHeading" class="firstHeading">Front Door</h1>'+
      '<div id="bodyContent">'+
      '<p><b><img src = "../testImagePhoebe/fultonHall.jpg" height = "250" width = "300"></b>, lalalalalal <p>Testing stuff</p>' +
      'wooooooo sample text!!!</div>',

      '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h1 id="firstHeading" class="firstHeading">Front Door</h1>'+
      '<div id="bodyContent">'+
      '<p><b><img src = "../testImagePhoebe/fultonHall.jpg" height = "250" width = "300"></b> lalalalalal <p>Testing stuff</p>' +
      'wooooooo sample text!!!'+
      '</div>'
      ];


//makes sure each marker has different content and different click responses
function addInfoWindow(marker,contentString){
  var flagWindow = new google.maps.InfoWindow({
    content: contentString
  });
  google.maps.event.addListener(marker, 'click', function(){
    windowUp = true;
    map: map
    flagWindow.setPosition(event.latLng);
    flagWindow.open(map,marker);
  });
  windows.push(flagWindow);
}

//calls addInfoWindow for each marker
for (i = 0; i< markerArray.length; i++){
  addInfoWindow(markerArray[i],content[i]);
}

      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
  	<div id="map_canvas"></div>
  </body>
</html>